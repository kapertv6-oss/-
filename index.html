<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Character Chat</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
body { background:#111; color:#fff; font-family:Arial; }
textarea { width:100%; height:70px; }
button { width:100%; padding:10px; margin-top:5px; }
#tokens { margin-bottom:10px; font-weight:bold; }
#characters button { margin:2px; }
</style>
</head>
<body>

<h2>üíñ –ß–∞—Ç —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º</h2>
<div id="tokens">üíé –¢–æ–∫–µ–Ω—ã: 0</div>

<div id="characters">
  <button onclick="setCharacter('–†–∏–∞—Å')">–†–∏–∞—Å</button>
  <button onclick="setCharacter('–ê–∫–µ–Ω–æ')">–ê–∫–µ–Ω–æ</button>
  <button onclick="setCharacter('–ö–æ–Ω—ç–∫–æ')">–ö–æ–Ω—ç–∫–æ</button>
</div>

<textarea id="text" placeholder="–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
<button onclick="send()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

<script>
const tg = window.Telegram.WebApp;
tg.expand();
let character = '–†–∏–∞—Å';

// –í—ã–±–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
function setCharacter(name) {
    character = name;
    tg.sendData(`/character ${name}`);
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
function send() {
    const text = document.getElementById("text").value;
    if (!text) return;
    tg.sendData(text);
    document.getElementById("text").value = "";
}

// –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å #tokens
</script>

</body>
</html>
